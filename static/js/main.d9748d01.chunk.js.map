{"version":3,"sources":["actions/actions.js","actions/actions-types.js","store/selectors.js","components/list/List.js","icons/shopping-cart.png","components/goods/Goods.js","components/app/App.js","store/store.js","index.js"],"names":["getListAction","list","type","payload","setListAction","getRequestListAction","setGoodsAction","setIsPinAction","requestListSelector","state","requestList","listSelector","goodsSelector","goods","isPinSelector","isPin","sumSelector","createSelector","reduce","previousValue","currentValue","price","amount","List","dispatch","useDispatch","useSelector","copyGoods","slice","copyList","getList","useCallback","a","fetch","request","json","answer","products","result","map","value","current_price","currency","title","thumbnail","id","asin","string","split","first","second","third","description","join","url","console","log","putInBasket","product","find","undefined","push","inpRef","useRef","search","searchProduct","current","length","filter","toLowerCase","includes","useEffect","className","placeholder","onInput","ref","index","src","alt","onClick","Goods","sum","remove","pin","anotherGoods","unpin","toFixed","App","initialState","store","createStore","action","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.d9748d01.chunk.js","sourcesContent":["import {GET_LIST, GET_REQUEST_LIST, SET_GOODS, SET_ISPIN, SET_LIST} from \"./actions-types\";\r\n\r\nexport const getListAction = (list) => {\r\n    return ({\r\n        type: GET_LIST,\r\n        payload: list\r\n    })\r\n};\r\nexport const setListAction = (list) => {\r\n    return ({\r\n        type: SET_LIST,\r\n        payload: list\r\n    })\r\n};\r\nexport const getRequestListAction = (list) => {\r\n    return ({\r\n        type: GET_REQUEST_LIST,\r\n        payload: list\r\n    })\r\n};\r\nexport const setGoodsAction = (list) => {\r\n    return ({\r\n        type: SET_GOODS,\r\n        payload: list\r\n    })\r\n};\r\nexport const setIsPinAction = (list) => {\r\n    return ({\r\n        type: SET_ISPIN,\r\n        payload: list\r\n    })\r\n};\r\n","export const GET_LIST='GET_LIST';\r\nexport const GET_REQUEST_LIST='GET_REQUEST_LIST';\r\nexport const SET_GOODS='SET_GOODS';\r\nexport const SET_ISPIN='SET_ISPIN';\r\nexport const SET_LIST='SET_LIST';","import {createSelector} from \"reselect\";\r\n\r\nexport const requestListSelector=state=>state.requestList;\r\nexport const listSelector=state=>state.list;\r\nexport const goodsSelector=state=>state.goods;\r\nexport const isPinSelector=state=>state.isPin;\r\nexport const sumSelector=createSelector(\r\n    goodsSelector,\r\n    (goods)=>goods.reduce((previousValue, currentValue) => {return previousValue+(currentValue.price*currentValue.amount)},0));","import React, {useCallback, useEffect, useRef} from 'react';\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {getListAction, getRequestListAction, setGoodsAction, setListAction} from \"../../actions/actions\";\r\nimport './List.scss';\r\nimport {goodsSelector, listSelector, requestListSelector} from \"../../store/selectors\";\r\nimport Shop from '../../icons/shopping-cart.png';\r\n\r\nexport const List = () => {\r\n    const dispatch = useDispatch();\r\n    const requestList = useSelector(requestListSelector);\r\n    const goods = useSelector(goodsSelector);\r\n    const copyGoods = goods.slice();\r\n    const list = useSelector(listSelector);\r\n    const copyList = list.slice();\r\n    const getList = useCallback(async () => {\r\n            try {\r\n                const request = await fetch(\"https://amazon-product-reviews-keywords.p.rapidapi.com/product/search?keyword=lenovo&category=computers&country=US\", {\r\n                    \"method\": \"GET\",\r\n                    \"headers\": {\r\n                        \"x-rapidapi-key\": \"7b4376c68amsh086f378303b1b42p1e0433jsn512f378a4d94\",\r\n                        \"x-rapidapi-host\": \"amazon-product-reviews-keywords.p.rapidapi.com\"\r\n                    }\r\n                });\r\n                const answer = await request.json();\r\n                const {products} = answer;\r\n                const result = products.map(value => {\r\n                    const {price: {current_price, currency}, title, thumbnail, asin: id} = value;\r\n                    const string = title.split(' ');\r\n                    const [first, second, third, ...arrayDescription] = string;\r\n                    const description = arrayDescription.join(' ');\r\n                    const titl = [first, second, third].join(' ');\r\n                    return ({\r\n                        id: id,\r\n                        price: current_price,\r\n                        currency: currency,\r\n                        title: titl,\r\n                        description: description,\r\n                        url: thumbnail\r\n                    });\r\n                });\r\n                dispatch(getListAction(result));\r\n                dispatch(getRequestListAction(result));\r\n\r\n            } catch (e) {\r\n                console.log(e);\r\n            }\r\n        }, [dispatch]\r\n    );\r\n    const putInBasket = useCallback((product) => {\r\n        const find = copyGoods.find(value => value.id === product.id);\r\n        if (find === undefined) {\r\n            product.amount = 1;\r\n            copyGoods.push(product);\r\n            dispatch(setGoodsAction(copyGoods));\r\n        } else {\r\n            find.amount += 1;\r\n            dispatch(setGoodsAction(copyGoods));\r\n        }\r\n    }, [copyGoods, dispatch]);\r\n    const inpRef = useRef();\r\n    const search = useCallback(() => {\r\n        const searchProduct = inpRef.current.value;\r\n        if (searchProduct.length === 0) {\r\n            dispatch(setListAction(requestList));\r\n        } else {\r\n            const result = copyList.filter(value => value.title.toLowerCase().includes(searchProduct)\r\n                || value.description.toLowerCase().includes(searchProduct)\r\n            );\r\n            dispatch(setListAction(result));\r\n        }\r\n    }, [dispatch, copyList, requestList]);\r\n\r\n    useEffect(() => {\r\n        getList();\r\n    }, [getList])\r\n    return (\r\n        <div className='main'>\r\n            <div className='inp'>\r\n                <input type=\"text\" className='searchProduct' placeholder='Search product' onInput={search}\r\n                       ref={inpRef}/>\r\n            </div>\r\n            <div className='list'>{\r\n                list.map((value, index) => {\r\n                    return (\r\n                        <div className='card' key={index}>\r\n                            <div className='forimg'>\r\n                                <img className=\"img\" src={value.url}\r\n                                     alt=\"product\"/>\r\n                            </div>\r\n                            <div className='forbtn'>\r\n                                <img src={Shop} alt=\"basket\" onClick={() => putInBasket(value)}/>\r\n                            </div>\r\n                            <div className=\"name\">\r\n                                <h4>{value.title}</h4>\r\n                                <div className=\"info\">Price - {value.price} {value.currency}</div>\r\n                                <div className='description'>{value.description}</div>\r\n                            </div>\r\n\r\n                        </div>\r\n                    )\r\n                })\r\n            }\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAA/AAAAPwBMDxhdwAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAARcSURBVFiFvZdbbFRVGIXX2qfTzgzQVq5JY6APKCYkGo2RlhIFIg/6gEa0IQEFeonByAPRR0PBBxPjgybGENPiLcYYeNDEF4KXAkM6lQqKkIDhEmgZUGjTUjrMaefsvXwovTCdS9GBP9mZs+f8a6/v/HvnPzksq2lYa8jVAADhqvP0vX9kz1+4T2EIs1bCegnrBeyk5ZlITdOu+wVASROTx16bEYmG3hP4JhxXpn5tjd1rADN5ohNfJVPhhW+B+AdG2+61OZBRgbGI1jZ9LKCBNGvoNEyPNg0XwNHS0VI2QIiWlta4IGCY1gTGDjo/QMpYzPYsUB3g4E6rbAaFACJ1TU/D4VCRHlIgHMgAggNhBVgCFsTRrADkLhOuS/ztliyYF7xaA1iHUZkDrQPc6DXcxP9jOXfcHxuT5rx9bTougP23LpZkRVaLiy5v3GvO9251S6sMQl6RijERZYfPWjjbbnIlCNqH4bQxxy4V3ZyJAfBGyoNMLCeAH18Ug2d6vdi5ogOYkwkAgIxyA0gtjtbt9eLnHdK2uACnEoDH635H27mcAAAgcB9SaWOOdxcX4MRlC6uDQEYjygy/88HDMOzzYmeLZs5rN8HeIU9QrCCA1OLotNfrOG8RFGcbvF/OAIDg4UBBgFEI7UMq7ZnjPf/PWYI5ehEl33ZZArvH3rhZ+8Dk8BfePBxOVPR5sbNz3FPVuRNTI2Bf8vYYGv9FXxLsHRKvDDgO+p48c7KspPSdMVnWTpgZkdrm3YqGmoPtz3qYbNCbFK8PWvYnCT+Y2q3IWzC8Cuu6AVwC3Repjs/uaPHTA1je1ABhz4QKFuQ1SD0SEwZKiLgCKAEw4cQrI0ol1Pn1YKG1C24BAEh4nmDCCC/QBYlkV/U1qcVNR1sUAAMsFnQ52dl2rBimGWsXDgecA1DNmo3lxQaY5hloeAYyPwLqp8yHzqj/ro0c5UdKv1H7J0N3DQAA4drG50i+C+EJTLNyWWJzKt725X8CGBc8+Xq0ctZI6d06D9wslX779MaUG5IKDrzyiodlG8qnk3uHDjtN5crNlfly8laAq7aEI755XzBNgCIAupzYPNzZ+mfeKtXXe+Hu8h0w2A5hFoDTAN9IxVsPZubm3cuI730gcJt9eGk4qF1NRWc+bgx+Kl+2aU5eXU/52yB2uOol0aBuDVReuRjE/nDNloemDcBVu0pENttHHlV67QYT1K1B+sWNIUjzRrzQy/kARG51VYuCkXWbvaB2NUbqm0KQykhv07QBKnFxJqQyzV0wnqMH5o6u7zg/JzhJAPM1d/54k9PMCiAUsgCnVC4nQH/75wMgTnm/dwbmag/op1ASOzDqAdeeS6fR09Xunf7Dmu4LQHoEJfGfgXTaA9yRKcD5DmG0prnGGeynVAFSkCjxI7+zdXtOEYDwisYldOYQpAXjOvK74XjbuswvpYJ9YMaKxirr+BKlOYA5lO0kZ4uK5U2zh6V6ElUSu/x42w/Z8v4FyZOOlhaHTqsAAAAASUVORK5CYII=\"","import React, {useCallback} from 'react';\r\nimport '../goods/Goods.scss';\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {goodsSelector, isPinSelector, sumSelector} from \"../../store/selectors\";\r\nimport {setGoodsAction, setIsPinAction} from \"../../actions/actions\";\r\n\r\nexport const Goods = () => {\r\n    const dispatch = useDispatch();\r\n    const goods = useSelector(goodsSelector);\r\n    const copyGoods = goods.slice();\r\n    const isPin = useSelector(isPinSelector);\r\n    const sum = useSelector(sumSelector);\r\n    const remove = useCallback((id) => {\r\n        const result = copyGoods.filter(value => value.id !== id);\r\n        dispatch(setGoodsAction(result));\r\n    }, [dispatch, copyGoods]);\r\n    const pin = useCallback((product) => {\r\n        const anotherGoods = copyGoods.filter(value => {\r\n            return value.id !== product.id\r\n        });\r\n        product.pin = true;\r\n        const result = [product, ...anotherGoods];\r\n        dispatch(setGoodsAction(result));\r\n        dispatch(setIsPinAction(true));\r\n    }, [dispatch, copyGoods]);\r\n    const unpin = useCallback((id) => {\r\n        const result = copyGoods.map(value => {\r\n            if (value.id === id) {\r\n                delete value.pin;\r\n            }\r\n            return value\r\n        });\r\n        dispatch(setIsPinAction(false));\r\n        dispatch(setGoodsAction(result));\r\n    }, [dispatch, copyGoods]);\r\n    const render = () => {\r\n        return (\r\n            goods.map((value, index) => {\r\n                return (\r\n                    <div key={index + 100} className='title'>\r\n                        {value.title} - {(value.price * value.amount).toFixed(2)}{value.currency} - amount - {value.amount} items\r\n                        {!value.pin && <button className='btn' onClick={() => remove(value.id)}>remove</button>}\r\n                        {!isPin && <button className='btn' onClick={() => pin(value)}>pin</button>}\r\n                        {value.pin && <button className='btn' onClick={() => unpin(value.id)}>unpin</button>}\r\n                    </div>\r\n                )\r\n            })\r\n        )\r\n    };\r\n    return (\r\n        <div className='goods'>\r\n            <div className='myGoods'>\r\n                {goods.length !== 0 ? render() : \"There aren't any selected products\"}\r\n            </div>\r\n            <div className='sum'>{goods.length !== 0 ? `Total sum - ${sum.toFixed(2)}$` : ''}</div>\r\n        </div>\r\n    );\r\n}\r\n\r\n","import './App.scss';\nimport {List} from \"../list/List\";\nimport {Goods} from \"../goods/Goods\";\n\n\nfunction App() {\n\n    return (\n        <>\n            <Goods/>\n            <List/>\n        </>\n\n    );\n}\n\nexport default App;\n","import {createStore} from \"redux\";\r\n\r\n\r\nconst initialState = {\r\n    requestList: [],\r\n    list: [],\r\n    goods: [],\r\n    isPin: false,\r\n};\r\n\r\n\r\nconst reducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case 'GET_LIST':\r\n            return {...state, list: action.payload};\r\n        case 'SET_LIST':\r\n            return {...state, list: action.payload};\r\n        case 'GET_REQUEST_LIST':\r\n            return {...state, requestList: action.payload};\r\n        case 'SET_GOODS':\r\n            return {...state, goods: action.payload};\r\n        case 'SET_ISPIN':\r\n            return {...state, isPin: action.payload};\r\n        default:\r\n            return state;\r\n    }\r\n\r\n};\r\nexport const store = createStore(reducer);","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/app/App';\nimport {Provider} from \"react-redux\";\nimport {store} from \"./store/store\";\n\nReactDOM.render(\n    <React.StrictMode>\n        <Provider store={store}>\n            <App/>\n        </Provider>\n    </React.StrictMode>,\n    document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}